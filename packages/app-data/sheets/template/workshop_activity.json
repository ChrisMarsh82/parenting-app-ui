{
  "flow_type": "template",
  "flow_name": "workshop_activity",
  "status": "released",
  "rows": [
    {
      "name": "use_scroll",
      "value": "@fields.use_modular_skin",
      "_translations": {
        "value": {}
      }
    },
    {
      "name": "use_blobs",
      "value": "!@fields.use_modular_skin",
      "_translations": {
        "value": {}
      }
    },
    {
      "name": "activity_image"
    },
    {
      "name": "activity_title",
      "value": "Title of this activity",
      "_translations": {
        "value": {}
      },
      "exclude_from_translation": true
    },
    {
      "name": "hide_intro",
      "value": false,
      "exclude_from_translation": true
    },
    {
      "name": "hide_content",
      "value": true,
      "exclude_from_translation": true
    },
    {
      "name": "hide_outro",
      "value": true,
      "exclude_from_translation": true
    },
    {
      "name": "outro_text"
    },
    {
      "name": "outro_button"
    },
    {
      "name": "outro_habit_data"
    },
    {
      "name": "outro_habit_text"
    },
    {
      "name": "include_outro",
      "value": "!!@local.outro_text || !!@local.outro_button || !!@local.outro_habit_data",
      "_translations": {
        "value": {}
      },
      "exclude_from_translation": true
    },
    {
      "name": "outro_toggle_bar_text"
    },
    {
      "name": "outro_toggle_bar_field"
    },
    {
      "type": "display_group",
      "name": "pages_activity",
      "condition": "!@local.use_scroll",
      "rows": [
        {
          "type": "animated_section",
          "name": "intro",
          "value": "fade_in_out",
          "hidden": "@local.hide_intro",
          "exclude_from_translation": true,
          "rows": [
            {
              "type": "display_group",
              "parameter_list": [
                "style: banner_welcome"
              ],
              "rows": [
                {
                  "type": "image",
                  "name": "intro_image_src",
                  "value": "@local.activity_image",
                  "_translations": {
                    "value": {}
                  },
                  "parameter_list": [
                    "background_box"
                  ]
                }
              ]
            },
            {
              "type": "title",
              "name": "intro_title",
              "value": "@local.activity_title",
              "_translations": {
                "value": {}
              }
            },
            {
              "type": "text",
              "name": "intro_text"
            },
            {
              "type": "template",
              "name": "intro_nav_buttons",
              "value": "nav_buttons",
              "action_list": [
                {
                  "trigger": "completed",
                  "action_id": "set_local",
                  "args": [
                    "hide_content",
                    false
                  ],
                  "_raw": "completed | set_local:hide_content:false",
                  "_cleaned": "completed | set_local:hide_content:false"
                },
                {
                  "trigger": "completed",
                  "action_id": "set_local",
                  "args": [
                    "hide_intro",
                    true
                  ],
                  "_raw": "completed | set_local:hide_intro:true",
                  "_cleaned": "completed | set_local:hide_intro:true"
                },
                {
                  "trigger": "uncompleted",
                  "action_id": "emit",
                  "args": [
                    "uncompleted"
                  ],
                  "_raw": "uncompleted | emit:uncompleted",
                  "_cleaned": "uncompleted | emit:uncompleted"
                }
              ],
              "rows": [
                {
                  "name": "use_uncompleted_chevron",
                  "value": false,
                  "exclude_from_translation": true
                },
                {
                  "name": "button_completed",
                  "value": "@global.lets_go_button",
                  "_translations": {
                    "value": {}
                  }
                }
              ]
            }
          ]
        },
        {
          "type": "animated_section",
          "name": "content",
          "hidden": "@local.hide_content",
          "rows": [
            {
              "type": "display_group",
              "name": "activity_banner",
              "hidden": true,
              "parameter_list": [
                "style:banner_short"
              ],
              "rows": [
                {
                  "type": "subtitle",
                  "name": "banner_title",
                  "value": "@local.activity_title",
                  "_translations": {
                    "value": {}
                  },
                  "parameter_list": [
                    "style: small emphasised"
                  ]
                },
                {
                  "type": "image",
                  "name": "banner_image_src",
                  "value": "@local.activity_image",
                  "_translations": {
                    "value": {}
                  },
                  "parameter_list": [
                    "background_box"
                  ]
                }
              ]
            },
            {
              "type": "template",
              "name": "content_box",
              "action_list": [
                {
                  "trigger": "completed",
                  "action_id": "set_local",
                  "args": [
                    "hide_content",
                    true
                  ],
                  "_raw": "completed | set_local:hide_content:true",
                  "_cleaned": "completed | set_local:hide_content:true"
                },
                {
                  "trigger": "completed",
                  "action_id": "set_local",
                  "args": [
                    "hide_outro",
                    false
                  ],
                  "_raw": "completed | set_local:hide_outro:false",
                  "_cleaned": "completed | set_local:hide_outro:false"
                },
                {
                  "trigger": "uncompleted",
                  "action_id": "set_local",
                  "args": [
                    "hide_intro",
                    false
                  ],
                  "_raw": "uncompleted | set_local:hide_intro:false",
                  "_cleaned": "uncompleted | set_local:hide_intro:false"
                },
                {
                  "trigger": "uncompleted",
                  "action_id": "set_local",
                  "args": [
                    "hide_content",
                    true
                  ],
                  "_raw": "uncompleted | set_local:hide_content:true",
                  "_cleaned": "uncompleted | set_local:hide_content:true"
                }
              ],
              "condition": "@local.include_outro",
              "rows": []
            },
            {
              "type": "template",
              "name": "content_box",
              "action_list": [
                {
                  "trigger": "completed",
                  "action_id": "emit",
                  "args": [
                    "completed"
                  ],
                  "_raw": "completed | emit:completed",
                  "_cleaned": "completed | emit:completed"
                },
                {
                  "trigger": "uncompleted",
                  "action_id": "set_local",
                  "args": [
                    "hide_intro",
                    false
                  ],
                  "_raw": "uncompleted | set_local:hide_intro:false",
                  "_cleaned": "uncompleted | set_local:hide_intro:false"
                },
                {
                  "trigger": "uncompleted",
                  "action_id": "set_local",
                  "args": [
                    "hide_content",
                    true
                  ],
                  "_raw": "uncompleted | set_local:hide_content:true",
                  "_cleaned": "uncompleted | set_local:hide_content:true"
                }
              ],
              "condition": "!@local.include_outro",
              "rows": []
            }
          ]
        },
        {
          "type": "animated_section",
          "name": "outro",
          "value": "fade_in_out",
          "hidden": "@local.hide_outro",
          "condition": "@local.include_outro",
          "exclude_from_translation": true,
          "rows": [
            {
              "type": "display_group",
              "parameter_list": [
                "style: banner_welcome"
              ],
              "rows": [
                {
                  "type": "image",
                  "name": "outro_image_src",
                  "value": "@local.activity_image",
                  "_translations": {
                    "value": {}
                  },
                  "parameter_list": [
                    "background_box"
                  ]
                }
              ]
            },
            {
              "type": "title",
              "name": "outro_title",
              "value": "@local.activity_title",
              "_translations": {
                "value": {}
              },
              "hidden": true
            },
            {
              "type": "text",
              "name": "outro_text"
            },
            {
              "type": "button",
              "name": "outro_button",
              "hidden": true
            },
            {
              "type": "template",
              "name": "outro_habit_box",
              "value": "parent_point_dashed_box",
              "condition": "!!@local.outro_habit_data",
              "rows": [
                {
                  "name": "use_short_mark_text",
                  "value": false
                },
                {
                  "name": "habit_text_long",
                  "value": "@local.outro_habit_text",
                  "_translations": {
                    "value": {}
                  },
                  "condition": "!!@local.outro_habit_text"
                },
                {
                  "name": "habit_1_data",
                  "value": "@local.outro_habit_data",
                  "_translations": {
                    "value": {}
                  }
                }
              ]
            },
            {
              "type": "display_group",
              "name": "has_toggle_bar",
              "condition": "!!@local.outro_toggle_bar_text",
              "parameter_list": [
                "style:column"
              ],
              "rows": [
                {
                  "type": "toggle_bar",
                  "name": "outro_toggle_bar",
                  "value": "@fields.@local.outro_toggle_bar_field",
                  "_translations": {
                    "value": {}
                  },
                  "action_list": [
                    {
                      "trigger": "changed",
                      "action_id": "set_field",
                      "args": [
                        "@local.outro_toggle_bar_field",
                        "@local.outro_toggle_bar"
                      ],
                      "_raw": "changed | set_field: @local.outro_toggle_bar_field : @local.outro_toggle_bar",
                      "_cleaned": "changed | set_field: @local.outro_toggle_bar_field : @local.outro_toggle_bar"
                    }
                  ],
                  "parameter_list": [
                    "true_text: @local.outro_toggle_bar_text",
                    "false_text: @local.outro_toggle_bar_text"
                  ]
                }
              ]
            },
            {
              "type": "template",
              "name": "outro_nav_buttons",
              "value": "nav_buttons",
              "action_list": [
                {
                  "trigger": "completed",
                  "action_id": "emit",
                  "args": [
                    "completed"
                  ],
                  "_raw": "completed | emit:completed",
                  "_cleaned": "completed | emit:completed"
                },
                {
                  "trigger": "uncompleted",
                  "action_id": "set_local",
                  "args": [
                    "hide_content",
                    false
                  ],
                  "_raw": "uncompleted | set_local:hide_content:false",
                  "_cleaned": "uncompleted | set_local:hide_content:false"
                },
                {
                  "trigger": "uncompleted",
                  "action_id": "set_local",
                  "args": [
                    "hide_outro",
                    true
                  ],
                  "_raw": "uncompleted | set_local:hide_outro:true",
                  "_cleaned": "uncompleted | set_local:hide_outro:true"
                }
              ],
              "rows": []
            }
          ]
        }
      ]
    },
    {
      "type": "display_group",
      "name": "scroll_activity",
      "condition": "@local.use_scroll",
      "parameter_list": [
        "style:column"
      ],
      "rows": [
        {
          "type": "display_group",
          "name": "activity_banner",
          "parameter_list": [
            "style:banner_short"
          ],
          "rows": [
            {
              "type": "subtitle",
              "name": "banner_title",
              "value": "@local.activity_title",
              "_translations": {
                "value": {}
              },
              "parameter_list": [
                "style: small emphasised"
              ]
            },
            {
              "type": "image",
              "name": "banner_image_src",
              "value": "plh_images/icons/person.svg",
              "_translations": {
                "value": {}
              },
              "parameter_list": [
                "background_box"
              ]
            }
          ]
        },
        {
          "type": "text",
          "name": "intro_text"
        },
        {
          "type": "template",
          "name": "content_box",
          "rows": []
        },
        {
          "type": "display_group",
          "condition": "@local.include_outro",
          "rows": [
            {
              "type": "text",
              "name": "outro_text"
            },
            {
              "type": "button",
              "name": "outro_button",
              "hidden": true
            },
            {
              "type": "template",
              "name": "outro_habit_box",
              "value": "parent_point_dashed_box",
              "condition": "!!@local.outro_habit_data",
              "rows": [
                {
                  "name": "use_short_mark_text",
                  "value": false,
                  "exclude_from_translation": true
                },
                {
                  "name": "habit_text_long",
                  "value": "@local.outro_habit_text",
                  "_translations": {
                    "value": {}
                  },
                  "condition": "!!@local.outro_habit_text"
                },
                {
                  "name": "habit_1_data",
                  "value": "@local.outro_habit_data",
                  "_translations": {
                    "value": {}
                  }
                },
                {
                  "name": "dashed_box",
                  "parameter_list": [
                    "style:column"
                  ]
                }
              ]
            },
            {
              "type": "display_group",
              "name": "has_toggle_bar",
              "condition": "!!@local.outro_toggle_bar_text",
              "parameter_list": [
                "style:column"
              ],
              "rows": [
                {
                  "type": "toggle_bar",
                  "name": "outro_toggle_bar",
                  "value": "@fields.@local.outro_toggle_bar_field",
                  "_translations": {
                    "value": {}
                  },
                  "action_list": [
                    {
                      "trigger": "changed",
                      "action_id": "set_field",
                      "args": [
                        "@local.outro_toggle_bar_field",
                        "@local.outro_toggle_bar"
                      ],
                      "_raw": "changed | set_field: @local.outro_toggle_bar_field : @local.outro_toggle_bar",
                      "_cleaned": "changed | set_field: @local.outro_toggle_bar_field : @local.outro_toggle_bar"
                    }
                  ],
                  "exclude_from_translation": true,
                  "parameter_list": [
                    "true_text: @local.outro_toggle_bar_text",
                    "false_text: @local.outro_toggle_bar_text"
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "template",
          "name": "nav_buttons",
          "value": "nav_buttons",
          "action_list": [
            {
              "trigger": "completed",
              "action_id": "emit",
              "args": [
                "completed"
              ],
              "_raw": "completed | emit:completed",
              "_cleaned": "completed | emit:completed"
            },
            {
              "trigger": "uncompleted",
              "action_id": "emit",
              "args": [
                "uncompleted"
              ],
              "_raw": "uncompleted | emit:uncompleted",
              "_cleaned": "uncompleted | emit:uncompleted"
            }
          ],
          "rows": []
        }
      ]
    }
  ],
  "_xlsxPath": "global/core_templates/core_templates_workshops.xlsx"
}