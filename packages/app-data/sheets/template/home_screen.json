{
  "flow_type": "template",
  "flow_name": "home_screen",
  "status": "released",
  "rows": [
    {
      "type": "set_field",
      "name": "first_click_hs_weekly_workshops",
      "value": "@fields.click_hs_weekly_workshops",
      "_translations": {
        "value": {}
      },
      "condition": "!@fields.first_click_hs_weekly_workshops",
      "exclude_from_translation": true
    },
    {
      "type": "set_field",
      "name": "first_click_hs_weekly_workshops_quick_start",
      "value": "@fields.click_hs_weekly_workshops_quick_start",
      "_translations": {
        "value": {}
      },
      "condition": "!@fields.first_click_hs_weekly_workshops_quick_start",
      "exclude_from_translation": true
    },
    {
      "type": "set_field",
      "name": "first_click_hs_parent_points",
      "value": "@fields.click_hs_parent_points",
      "_translations": {
        "value": {}
      },
      "condition": "!@fields.first_click_hs_parent_points",
      "exclude_from_translation": true
    },
    {
      "type": "set_field",
      "name": "first_click_hs_parent_points_quick_start",
      "value": "@fields.click_hs_parent_points_quick_start",
      "_translations": {
        "value": {}
      },
      "condition": "!@fields.first_click_hs_parent_points_quick_start",
      "exclude_from_translation": true
    },
    {
      "type": "set_field",
      "name": "first_click_hs_parent_centre",
      "value": "@fields.click_hs_parent_centre",
      "_translations": {
        "value": {}
      },
      "condition": "!@fields.first_click_hs_parent_centre",
      "exclude_from_translation": true
    },
    {
      "type": "set_field",
      "name": "first_click_hs_parent_centre_quick_start",
      "value": "@fields.click_hs_parent_centre_quick_start",
      "_translations": {
        "value": {}
      },
      "condition": "!@fields.first_click_hs_parent_centre_quick_start",
      "exclude_from_translation": true
    },
    {
      "name": "now",
      "value": "@calc(timestamp())",
      "_translations": {
        "value": {}
      },
      "exclude_from_translation": true
    },
    {
      "type": "display_group",
      "name": "clicks_all_time",
      "parameter_list": [
        "style: column"
      ],
      "rows": [
        {
          "name": "click_hs_weekly_workshops_count",
          "value": "+@fields.click_hs_weekly_workshops_count",
          "_translations": {
            "value": {}
          },
          "exclude_from_translation": true
        },
        {
          "name": "click_hs_parent_points_count",
          "value": "+@fields.click_hs_parent_points_count",
          "_translations": {
            "value": {}
          },
          "exclude_from_translation": true
        },
        {
          "name": "click_hs_parent_centre_count",
          "value": "+@fields.click_hs_parent_centre_count",
          "_translations": {
            "value": {}
          },
          "exclude_from_translation": true
        },
        {
          "name": "click_hs_weekly_workshops_quick_start_count",
          "value": "+@fields.click_hs_weekly_workshops_quick_start_count",
          "_translations": {
            "value": {}
          },
          "exclude_from_translation": true
        },
        {
          "name": "click_hs_parent_points_quick_start_count",
          "value": "+@fields.click_hs_parent_points_quick_start_count",
          "_translations": {
            "value": {}
          },
          "exclude_from_translation": true
        },
        {
          "name": "click_hs_parent_centre_quick_start_count",
          "value": "+@fields.click_hs_parent_centre_quick_start_count",
          "_translations": {
            "value": {}
          },
          "exclude_from_translation": true
        }
      ]
    },
    {
      "type": "display_group",
      "name": "clicks_this_week",
      "parameter_list": [
        "style: column"
      ],
      "rows": [
        {
          "name": "workshop_id",
          "value": "@fields.workshop_id",
          "_translations": {
            "value": {}
          }
        },
        {
          "name": "weekly_click_hs_weekly_workshops_field",
          "value": "click_hs_weekly_workshops_count_@local.workshop_id",
          "_translations": {
            "value": {}
          },
          "exclude_from_translation": true
        },
        {
          "name": "weekly_click_hs_parent_points_field",
          "value": "click_hs_parent_points_@local.workshop_id",
          "_translations": {
            "value": {}
          },
          "exclude_from_translation": true
        },
        {
          "name": "weekly_click_hs_parent_centre_field",
          "value": "click_hs_parent_centre_@local.workshop_id",
          "_translations": {
            "value": {}
          },
          "exclude_from_translation": true
        },
        {
          "name": "weekly_click_hs_weekly_workshops_quick_start_field",
          "value": "click_hs_weekly_workshops_quick_start_@local.workshop_id",
          "_translations": {
            "value": {}
          },
          "exclude_from_translation": true
        },
        {
          "name": "weekly_click_hs_parent_points_quick_start_field",
          "value": "click_hs_parent_points_quick_start_@local.workshop_id",
          "_translations": {
            "value": {}
          },
          "exclude_from_translation": true
        },
        {
          "name": "weekly_click_hs_parent_centre_quick_start_field",
          "value": "click_hs_parent_centre_quick_start_@local.workshop_id",
          "_translations": {
            "value": {}
          },
          "exclude_from_translation": true
        },
        {
          "name": "weekly_click_hs_weekly_workshops_count",
          "value": "+@fields.@local.weekly_click_hs_weekly_workshops_field",
          "_translations": {
            "value": {}
          },
          "exclude_from_translation": true
        },
        {
          "name": "weekly_click_hs_parent_points_count",
          "value": "+@fields.@local.weekly_click_hs_parent_points_field",
          "_translations": {
            "value": {}
          },
          "exclude_from_translation": true
        },
        {
          "name": "weekly_click_hs_parent_centre_count",
          "value": "+@fields.@local.weekly_click_hs_parent_centre_field",
          "_translations": {
            "value": {}
          },
          "exclude_from_translation": true
        },
        {
          "name": "weekly_click_hs_weekly_workshops_quick_start_count",
          "value": "+@fields.@local.weekly_click_hs_weekly_workshops_quick_start_field",
          "_translations": {
            "value": {}
          },
          "exclude_from_translation": true
        },
        {
          "name": "weekly_click_hs_parent_points_quick_start_count",
          "value": "+@fields.@local.weekly_click_hs_parent_points_quick_start_field",
          "_translations": {
            "value": {}
          },
          "exclude_from_translation": true
        },
        {
          "name": "weekly_click_hs_parent_centre_quick_start_count",
          "value": "+@fields.@local.weekly_click_hs_parent_centre_quick_start_field",
          "_translations": {
            "value": {}
          },
          "exclude_from_translation": true
        }
      ]
    },
    {
      "name": "weekly_workshops_campaign",
      "value": "@campaign.weekly_workshops",
      "_translations": {
        "value": {}
      },
      "exclude_from_translation": true
    },
    {
      "name": "parent_points_campaign",
      "value": "@campaign.parent_points",
      "_translations": {
        "value": {}
      },
      "exclude_from_translation": true
    },
    {
      "name": "parent_centre_campaign",
      "value": "@campaign.parent_centre",
      "_translations": {
        "value": {}
      },
      "exclude_from_translation": true
    },
    {
      "type": "update_action_list",
      "name": "nav_resume_actions",
      "action_list": [
        {
          "trigger": "nav_resume",
          "action_id": "emit",
          "args": [
            "force_reload"
          ],
          "_raw": "nav_resume | emit:force_reload",
          "_cleaned": "nav_resume | emit:force_reload"
        }
      ]
    },
    {
      "type": "display_group",
      "name": "tile_weekly_workshops",
      "action_list": [
        {
          "trigger": "click",
          "action_id": "go_to",
          "args": [
            "weekly_workshops"
          ],
          "_raw": "click | go_to:weekly_workshops",
          "_cleaned": "click | go_to:weekly_workshops"
        },
        {
          "trigger": "click",
          "action_id": "set_field",
          "args": [
            "click_hs_weekly_workshops",
            "@local.now"
          ],
          "_raw": "click | set_field: click_hs_weekly_workshops: @local.now",
          "_cleaned": "click | set_field: click_hs_weekly_workshops: @local.now"
        },
        {
          "trigger": "click",
          "action_id": "set_field",
          "args": [
            "click_hs_weekly_workshops_count",
            "@local.click_hs_weekly_workshops_count +1"
          ],
          "_raw": "click | set_field: click_hs_weekly_workshops_count: @local.click_hs_weekly_workshops_count +1",
          "_cleaned": "click | set_field: click_hs_weekly_workshops_count: @local.click_hs_weekly_workshops_count +1"
        },
        {
          "trigger": "click",
          "action_id": "set_field",
          "args": [
            "@local.weekly_click_hs_weekly_workshops_field",
            "@local.weekly_click_hs_weekly_workshops_count +1"
          ],
          "_raw": "click | set_field: @local.weekly_click_hs_weekly_workshops_field : @local.weekly_click_hs_weekly_workshops_count +1",
          "_cleaned": "click | set_field: @local.weekly_click_hs_weekly_workshops_field : @local.weekly_click_hs_weekly_workshops_count +1"
        }
      ],
      "parameter_list": [
        "style: home_screen light"
      ],
      "rows": [
        {
          "type": "lottie_animation",
          "name": "image_weekly_workshops",
          "value": "plh_lottie/weekly_workshops.json",
          "_translations": {
            "value": {}
          }
        },
        {
          "type": "display_group",
          "name": "dg_weekly_workshops",
          "parameter_list": [
            "style: column"
          ],
          "rows": [
            {
              "type": "title",
              "name": "title_weekly_workshops",
              "value": "@global.weekly_workshops",
              "_translations": {
                "value": {}
              },
              "parameter_list": [
                "style: alternative"
              ]
            },
            {
              "type": "round_button",
              "name": "quick_start_weekly_workshops",
              "action_list": [
                {
                  "trigger": "click",
                  "action_id": "trigger_actions",
                  "args": [
                    "@local.weekly_workshops_campaign.action_list"
                  ],
                  "_raw": "click | trigger_actions: @local.weekly_workshops_campaign.action_list",
                  "_cleaned": "click | trigger_actions: @local.weekly_workshops_campaign.action_list"
                },
                {
                  "trigger": "click",
                  "action_id": "set_field",
                  "args": [
                    "click_hs_weekly_workshops_quick_start",
                    "@local.now"
                  ],
                  "_raw": "click | set_field: click_hs_weekly_workshops_quick_start: @local.now",
                  "_cleaned": "click | set_field: click_hs_weekly_workshops_quick_start: @local.now"
                },
                {
                  "trigger": "click",
                  "action_id": "set_field",
                  "args": [
                    "click_hs_weekly_workshops_quick_start_count",
                    "@local.click_hs_weekly_workshops_quick_start_count+1"
                  ],
                  "_raw": "click | set_field: click_hs_weekly_workshops_quick_start_count: @local.click_hs_weekly_workshops_quick_start_count+1",
                  "_cleaned": "click | set_field: click_hs_weekly_workshops_quick_start_count: @local.click_hs_weekly_workshops_quick_start_count+1"
                },
                {
                  "trigger": "click",
                  "action_id": "set_field",
                  "args": [
                    "@local.weekly_click_hs_weekly_workshops_quick_start_field",
                    "@local.weekly_click_hs_weekly_workshops_quick_start_count+1"
                  ],
                  "_raw": "click | set_field: @local.weekly_click_hs_weekly_workshops_quick_start_field: @local.weekly_click_hs_weekly_workshops_quick_start_count+1",
                  "_cleaned": "click | set_field: @local.weekly_click_hs_weekly_workshops_quick_start_field: @local.weekly_click_hs_weekly_workshops_quick_start_count+1"
                }
              ],
              "hidden": "@local.weekly_workshops_campaign.id == \"default\"",
              "exclude_from_translation": true,
              "parameter_list": [
                "icon_src: @local.weekly_workshops_campaign.icon",
                "style: home_screen yellow"
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "display_group",
      "name": "tile_parent_points",
      "value": "tile_parent_points",
      "action_list": [
        {
          "trigger": "click",
          "action_id": "go_to",
          "args": [
            "parent_points"
          ],
          "_raw": "click | go_to:parent_points",
          "_cleaned": "click | go_to:parent_points"
        },
        {
          "trigger": "click",
          "action_id": "set_field",
          "args": [
            "click_hs_parent_points",
            "@local.now"
          ],
          "_raw": "click | set_field: click_hs_parent_points: @local.now",
          "_cleaned": "click | set_field: click_hs_parent_points: @local.now"
        },
        {
          "trigger": "click",
          "action_id": "set_field",
          "args": [
            "click_hs_parent_points_count",
            "@local.click_hs_parent_points_count +1"
          ],
          "_raw": "click | set_field: click_hs_parent_points_count: @local.click_hs_parent_points_count +1",
          "_cleaned": "click | set_field: click_hs_parent_points_count: @local.click_hs_parent_points_count +1"
        },
        {
          "trigger": "click",
          "action_id": "set_field",
          "args": [
            "@local.weekly_click_hs_parent_points_field",
            "@local.weekly_click_hs_parent_points_count +1"
          ],
          "_raw": "click | set_field: @local.weekly_click_hs_parent_points_field: @local.weekly_click_hs_parent_points_count +1",
          "_cleaned": "click | set_field: @local.weekly_click_hs_parent_points_field: @local.weekly_click_hs_parent_points_count +1"
        }
      ],
      "parameter_list": [
        "style: home_screen shade"
      ],
      "rows": [
        {
          "type": "lottie_animation",
          "name": "image_parent_points",
          "value": "plh_lottie/parent_points.json",
          "_translations": {
            "value": {}
          }
        },
        {
          "type": "display_group",
          "name": "dg_parent_points",
          "parameter_list": [
            "style: column"
          ],
          "rows": [
            {
              "type": "title",
              "name": "title_parent_points",
              "value": "@global.parent_points",
              "_translations": {
                "value": {}
              },
              "parameter_list": [
                "style: alternative"
              ]
            },
            {
              "type": "round_button",
              "name": "quick_start_parent_points",
              "action_list": [
                {
                  "trigger": "click",
                  "action_id": "trigger_actions",
                  "args": [
                    "@local.parent_points_campaign.action_list"
                  ],
                  "_raw": "click | trigger_actions: @local.parent_points_campaign.action_list",
                  "_cleaned": "click | trigger_actions: @local.parent_points_campaign.action_list"
                },
                {
                  "trigger": "click",
                  "action_id": "set_field",
                  "args": [
                    "click_hs_parent_points_quick_start",
                    "@local.now"
                  ],
                  "_raw": "click | set_field: click_hs_parent_points_quick_start: @local.now",
                  "_cleaned": "click | set_field: click_hs_parent_points_quick_start: @local.now"
                },
                {
                  "trigger": "click",
                  "action_id": "set_field",
                  "args": [
                    "click_hs_parent_points_quick_start_count",
                    "@local.click_hs_parent_points_quick_start_count+1"
                  ],
                  "_raw": "click | set_field: click_hs_parent_points_quick_start_count: @local.click_hs_parent_points_quick_start_count+1",
                  "_cleaned": "click | set_field: click_hs_parent_points_quick_start_count: @local.click_hs_parent_points_quick_start_count+1"
                },
                {
                  "trigger": "click",
                  "action_id": "set_field",
                  "args": [
                    "@local.weekly_click_hs_parent_points_quick_start_field",
                    "@local.weekly_click_hs_parent_points_quick_start_count+1"
                  ],
                  "_raw": "click | set_field: @local.weekly_click_hs_parent_points_quick_start_field: @local.weekly_click_hs_parent_points_quick_start_count+1",
                  "_cleaned": "click | set_field: @local.weekly_click_hs_parent_points_quick_start_field: @local.weekly_click_hs_parent_points_quick_start_count+1"
                }
              ],
              "hidden": "@local.parent_points_campaign.id == \"default\"",
              "exclude_from_translation": true,
              "parameter_list": [
                "icon_src: @local.parent_points_campaign.icon",
                "style: home_screen orange"
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "display_group",
      "name": "tile_parent_centre",
      "value": "tile_parent_centre",
      "action_list": [
        {
          "trigger": "click",
          "action_id": "go_to",
          "args": [
            "parent_centre"
          ],
          "_raw": "click | go_to:parent_centre",
          "_cleaned": "click | go_to:parent_centre"
        },
        {
          "trigger": "click",
          "action_id": "set_field",
          "args": [
            "click_hs_parent_centre",
            "@local.now"
          ],
          "_raw": "click | set_field: click_hs_parent_centre: @local.now",
          "_cleaned": "click | set_field: click_hs_parent_centre: @local.now"
        },
        {
          "trigger": "click",
          "action_id": "set_field",
          "args": [
            "click_hs_parent_centre_count",
            "@local.click_hs_parent_centre_count +1"
          ],
          "_raw": "click | set_field: click_hs_parent_centre_count: @local.click_hs_parent_centre_count +1",
          "_cleaned": "click | set_field: click_hs_parent_centre_count: @local.click_hs_parent_centre_count +1"
        },
        {
          "trigger": "click",
          "action_id": "set_field",
          "args": [
            "@local.weekly_click_hs_parent_centre_field",
            "@local.weekly_click_hs_parent_centre_count +1"
          ],
          "_raw": "click | set_field: @local.weekly_click_hs_parent_centre_field: @local.weekly_click_hs_parent_centre_count +1",
          "_cleaned": "click | set_field: @local.weekly_click_hs_parent_centre_field: @local.weekly_click_hs_parent_centre_count +1"
        }
      ],
      "parameter_list": [
        "style: home_screen dark"
      ],
      "rows": [
        {
          "type": "lottie_animation",
          "name": "image_parent_centre",
          "value": "plh_lottie/parent_centre.json",
          "_translations": {
            "value": {}
          }
        },
        {
          "type": "display_group",
          "name": "dg_parent_centre",
          "parameter_list": [
            "style:column"
          ],
          "rows": [
            {
              "type": "title",
              "name": "title_parent_centre",
              "value": "@global.parent_centre",
              "_translations": {
                "value": {}
              },
              "parameter_list": [
                "style: alternative"
              ]
            },
            {
              "type": "round_button",
              "name": "quick_start_parent_centre",
              "action_list": [
                {
                  "trigger": "click",
                  "action_id": "trigger_actions",
                  "args": [
                    "@local.parent_centre_campaign.action_list"
                  ],
                  "_raw": "click | trigger_actions: @local.parent_centre_campaign.action_list",
                  "_cleaned": "click | trigger_actions: @local.parent_centre_campaign.action_list"
                },
                {
                  "trigger": "click",
                  "action_id": "set_field",
                  "args": [
                    "click_hs_parent_centre_quick_start",
                    "@local.now"
                  ],
                  "_raw": "click | set_field: click_hs_parent_centre_quick_start: @local.now",
                  "_cleaned": "click | set_field: click_hs_parent_centre_quick_start: @local.now"
                },
                {
                  "trigger": "click",
                  "action_id": "set_field",
                  "args": [
                    "click_hs_parent_centre_quick_start_count",
                    "@local.click_hs_parent_centre_quick_start_count +1"
                  ],
                  "_raw": "click | set_field: click_hs_parent_centre_quick_start_count: @local.click_hs_parent_centre_quick_start_count +1",
                  "_cleaned": "click | set_field: click_hs_parent_centre_quick_start_count: @local.click_hs_parent_centre_quick_start_count +1"
                },
                {
                  "trigger": "click",
                  "action_id": "set_field",
                  "args": [
                    "@local.weekly_click_hs_parent_centre_quick_start_field",
                    "@local.weekly_click_hs_parent_centre_quick_start_count +1"
                  ],
                  "_raw": "click | set_field: @local.weekly_click_hs_parent_centre_quick_start_field: @local.weekly_click_hs_parent_centre_quick_start_count +1",
                  "_cleaned": "click | set_field: @local.weekly_click_hs_parent_centre_quick_start_field: @local.weekly_click_hs_parent_centre_quick_start_count +1"
                }
              ],
              "hidden": "@local.parent_centre_campaign.id == \"default\"",
              "exclude_from_translation": true,
              "parameter_list": [
                "icon_src: @local.parent_centre_campaign.icon",
                "style: home_screen dark_orange"
              ]
            }
          ]
        }
      ]
    }
  ],
  "_xlsxPath": "global/core_templates/core_templates_navigation.xlsx"
}