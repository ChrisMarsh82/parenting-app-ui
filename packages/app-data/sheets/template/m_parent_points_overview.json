{
  "flow_type": "template",
  "flow_name": "m_parent_points_overview",
  "status": "released",
  "rows": [
    {
      "name": "pick_random",
      "value": "@calc(Math.ceil(Math.random()*7))",
      "_translations": {
        "value": {}
      },
      "exclude_from_translation": true
    },
    {
      "name": "weekly_relax",
      "value": "+@fields.weekly_parent_point_relax",
      "_translations": {
        "value": {}
      },
      "exclude_from_translation": true
    },
    {
      "name": "weekly_treat_yourself",
      "value": "+@fields.weekly_parent_point_treat_yourself",
      "_translations": {
        "value": {}
      },
      "exclude_from_translation": true
    },
    {
      "name": "weekly_praise_yourself",
      "value": "+@fields.weekly_parent_point_praise_yourself",
      "_translations": {
        "value": {}
      },
      "exclude_from_translation": true
    },
    {
      "name": "weekly_spend_time",
      "value": "+@fields.weekly_parent_point_spend_time",
      "_translations": {
        "value": {}
      },
      "exclude_from_translation": true
    },
    {
      "name": "weekly_praise_teen",
      "value": "+@fields.weekly_parent_point_praise_teen",
      "_translations": {
        "value": {}
      },
      "exclude_from_translation": true
    },
    {
      "name": "weekly_instruct_positively",
      "value": "+@fields.weekly_parent_point_instruct_positively",
      "_translations": {
        "value": {}
      },
      "exclude_from_translation": true
    },
    {
      "name": "weekly_breathe",
      "value": "+@fields.weekly_parent_point_breathe",
      "_translations": {
        "value": {}
      },
      "exclude_from_translation": true
    },
    {
      "name": "weekly_money",
      "value": "+@fields.weekly_parent_point_money",
      "_translations": {
        "value": {}
      },
      "exclude_from_translation": true
    },
    {
      "name": "weekly_consequence",
      "value": "+@fields.weekly_parent_point_consequence",
      "_translations": {
        "value": {}
      },
      "exclude_from_translation": true
    },
    {
      "name": "weekly_safe",
      "value": "+@fields.weekly_parent_point_safe",
      "_translations": {
        "value": {}
      },
      "exclude_from_translation": true
    },
    {
      "name": "parent_points_weekly_max",
      "value": "@calc(Math.max(@local.weekly_relax, @local.weekly_treat_yourself, @local.weekly_praise_yourself, @local.weekly_spend_time, @local.weekly_praise_teen, @local.weekly_instruct_positively, @local.weekly_breathe, @local.weekly_money, @local.weekly_consequence, @local.weekly_safe))",
      "_translations": {
        "value": {}
      },
      "exclude_from_translation": true
    },
    {
      "name": "no_parent_points_this_week",
      "value": "!@local.parent_points_weekly_max",
      "_translations": {
        "value": {}
      },
      "exclude_from_translation": true
    },
    {
      "type": "template",
      "name": "in_week_message",
      "value": "in_week_message",
      "rows": [
        {
          "name": "title",
          "value": "@global.m_parent_points_overview",
          "_translations": {
            "value": {}
          }
        },
        {
          "name": "image",
          "value": "plh_images/workshop_modes/guide_2/star.svg",
          "_translations": {
            "value": {}
          }
        },
        {
          "name": "text",
          "value": "Hi @fields.user_name! This week you did:",
          "_translations": {
            "value": {
              "tz_sw": true,
              "za_af": true,
              "za_st": true,
              "za_tn": true,
              "za_xh": true,
              "za_zu": true
            }
          },
          "condition": "!@local.no_parent_points_this_week"
        },
        {
          "name": "text",
          "value": "Hi @fields.user_name! Thank you for using @global.parent_app and committing to your parenting. \n\nRemember to tap your @global.parent_points!",
          "_translations": {
            "value": {
              "tz_sw": true,
              "za_af": true,
              "za_st": true,
              "za_tn": true,
              "za_xh": true,
              "za_zu": true
            }
          },
          "condition": "@local.no_parent_points_this_week"
        },
        {
          "name": "button_1",
          "condition": "@local.no_parent_points_this_week",
          "hidden": false,
          "action_list": [
            {
              "trigger": "click",
              "action_id": "go_to",
              "args": [
                "parent_points"
              ],
              "_raw": "click | go_to:parent_points",
              "_cleaned": "click | go_to:parent_points"
            }
          ]
        }
      ]
    },
    {
      "type": "template",
      "name": "box_parent_point_counter",
      "value": "box_parent_point_counter",
      "condition": "!@local.no_parent_points_this_week",
      "rows": [
        {
          "name": "hide_nav_buttons",
          "value": true,
          "exclude_from_translation": true
        },
        {
          "name": "bottom_text",
          "value": "Thatâ€™s wonderful!",
          "_translations": {
            "value": {
              "tz_sw": true,
              "za_af": true,
              "za_st": true,
              "za_tn": true,
              "za_xh": true,
              "za_zu": true
            }
          },
          "condition": "@local.pick_random == 1"
        },
        {
          "name": "bottom_text",
          "value": "Nice work!",
          "_translations": {
            "value": {
              "tz_sw": true,
              "za_af": true,
              "za_st": true,
              "za_tn": true,
              "za_xh": true,
              "za_zu": true
            }
          },
          "condition": "@local.pick_random == 2"
        },
        {
          "name": "bottom_text",
          "value": "Your commitment is not taken for granted.",
          "_translations": {
            "value": {
              "tz_sw": true,
              "za_af": true,
              "za_st": true,
              "za_tn": true,
              "za_xh": true,
              "za_zu": true
            }
          },
          "condition": "@local.pick_random == 3"
        },
        {
          "name": "bottom_text",
          "value": "Keep up the good work!",
          "_translations": {
            "value": {
              "tz_sw": true,
              "za_af": true,
              "za_st": true,
              "za_tn": true,
              "za_xh": true,
              "za_zu": true
            }
          },
          "condition": "@local.pick_random == 4"
        },
        {
          "name": "bottom_text",
          "value": "This is lovely!",
          "_translations": {
            "value": {
              "tz_sw": true,
              "za_af": true,
              "za_st": true,
              "za_tn": true,
              "za_xh": true,
              "za_zu": true
            }
          },
          "condition": "@local.pick_random == 5"
        },
        {
          "name": "bottom_text",
          "value": "Tap yourself on the shoulder. You deserve this.",
          "_translations": {
            "value": {
              "tz_sw": true,
              "za_af": true,
              "za_st": true,
              "za_tn": true,
              "za_xh": true,
              "za_zu": true
            }
          },
          "condition": "@local.pick_random == 6"
        },
        {
          "name": "bottom_text",
          "value": "Every @global.parent_point counts!",
          "_translations": {
            "value": {
              "tz_sw": true,
              "za_af": true,
              "za_st": true,
              "za_tn": true,
              "za_xh": true,
              "za_zu": true
            }
          },
          "condition": "@local.pick_random == 7"
        }
      ]
    }
  ],
  "_xlsxPath": "global/in_week_messages/in_week_message_types.xlsx"
}